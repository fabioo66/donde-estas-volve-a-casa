<main class="flex-1 px-4 sm:px-6 lg:px-8 py-10">
  <div class="mx-auto max-w-7xl">
    <!-- Mascotas Perdidas Recientes -->
    <section class="mb-12">
      <div class="mb-6">
        <h2 class="text-xl sm:text-2xl font-bold text-stone-800 dark:text-stone-200">Mascotas Perdidas Recientes</h2>
      </div>

      <!-- Loading state -->
      @if (isLoading) {
        <div class="flex justify-center items-center py-12">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-[#13a4ec]"></div>
        </div>
      }

      <!-- Error state -->
      @if (error) {
        <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-center">
          <p class="text-red-600 dark:text-red-400">{{ error }}</p>
        </div>
      }

      <!-- Cards de mascotas -->
      @if (!isLoading && !error) {
        @if (mascotas.length === 0) {
          <div class="text-center py-12">
            <p class="text-stone-500 dark:text-stone-400">No hay mascotas perdidas en este momento</p>
          </div>
        } @else {
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6">
            @for (mascota of mascotas; track mascota.id) {
              <div class="bg-white dark:bg-[#1a2632] rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group">
                <!-- Imagen de la mascota -->
                <div class="relative aspect-square overflow-hidden bg-stone-200 dark:bg-stone-700">
                  <img
                    [src]="obtenerImagenMascota(mascota)"
                    [alt]="mascota.nombre"
                    class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"
                    (error)="$any($event.target).src='https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=400'">
                  <!-- Badge de estado -->
                  <div class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full">
                    PERDIDO
                  </div>
                </div>

                <!-- Información de la mascota -->
                <div class="p-4">
                  <h3 class="text-lg font-bold text-stone-800 dark:text-stone-200 truncate mb-1">
                    {{ mascota.nombre }}
                  </h3>
                  <p class="text-sm text-stone-600 dark:text-stone-400 truncate mb-2">
                    {{ mascota.raza || mascota.tipo || 'Sin raza' }}
                  </p>

                  <!-- Información adicional -->
                  <div class="space-y-1 text-xs text-stone-500 dark:text-stone-400">
                    @if (mascota.tamanio) {
                      <div class="flex items-center gap-1">
                        <span class="font-medium">Tamaño:</span>
                        <span>{{ mascota.tamanio }}</span>
                      </div>
                    }
                    @if (mascota.color) {
                      <div class="flex items-center gap-1">
                        <span class="font-medium">Color:</span>
                        <span>{{ mascota.color }}</span>
                      </div>
                    }
                    @if (mascota.coordenadas) {
                      <div class="flex items-center gap-1">
                        <span class="font-medium">Zona:</span>
                        <span class="truncate">{{ mascota.coordenadas }}</span>
                      </div>
                    }
                  </div>

                  <!-- Botón de ver más -->
                  <button class="mt-3 w-full bg-[#13a4ec]/10 dark:bg-[#13a4ec]/20 text-[#13a4ec] text-sm font-medium py-2 rounded-lg hover:bg-[#13a4ec]/20 dark:hover:bg-[#13a4ec]/30 transition-colors">
                    Ver detalles
                  </button>
                </div>
              </div>
            }
          </div>
        }
      }
    </section>
  </div>
</main>

